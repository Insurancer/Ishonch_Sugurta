Date.prototype.msPERDAY=1000*60*60*24;Date.prototype.copy=function(){ return new Date(this.getTime());};Date.prototype.addDays=function(d){ this.setDate(this.getDate()+(d-1));};Date.prototype.addWeeks=function(w){ this.addDays(w*7);};Date.prototype.addMonths=function(m){var d=this.getDate();this.setMonth(this.getMonth()+m);if(this.getDate()<d){ this.setDate(0);}else{ this.setDate(this.getDate()-1);}};Date.prototype.addYears=function(y){var m=this.getMonth();this.setFullYear(this.getFullYear()+y);if(m<this.getMonth()){ this.setDate(0);}else{ this.setDate(this.getDate()-1);}};//jQuery(document).ready(function(){!(function($){"use strict";$(window).on('load',function(){if($('.preloader').length){$('.preloader').delay(100).fadeOut('slow',function(){ $(this).hide();});}});// Back to top button$(window).scroll(function(){if($(this).scrollTop()>100){$('.back-to-top').fadeIn('slow');}else{$('.back-to-top').fadeOut('slow');}});$(document).ready(function(){ $('.back-to-top').click(function(){ $('html, body').animate({ scrollTop:0 },1500,'easeInOutExpo');  return false; });$('#accept').on('change',function(){var owner=$('#accept:checked').val();if(owner){$('#nextBtn').removeClass('disabled');$("#nextBtn").removeAttr("disabled");} else {$('#nextBtn').addClass('disabled');$("#nextBtn").attr("disabled", true);}});$('.mainForm').on('submit', function(e){e.preventDefault();this.submit();$('.preloader').show();});$.mask.definitions['9'] = false;$.mask.definitions['5'] = "[0-9]";$('input[data-type="phone"]').mask("+998(55) 555-55-55" );$('input[data-type="data"]').mask('55-55-5555',{ placeholder:"дд-мм-гггг" }).datepicker({ format:'dd-mm-yyyy' }); $('input[data-type="pnfl"]').mask('55555555555555',{ placeholder:"--------------" }); $('input[data-type="inn"]').mask("555555555",{ placeholder:"---------" }); $('#period').on('change',function(){ databegin(); }); $('#databegin').on('change',function(){ databegin(); });$('input[name="discount"]').on('change',function(){ discontChange(); });$('#sForm').on('change',function(){sFormChange();checkDiscountAllowed();});$('input[name="isOwner"]').on('change',function(){isOwner();checkDiscountAllowed();});$('#oForm').on('change',function(){oFormChange();checkDiscountAllowed();});$('#driverCount').on('change',function(){driverCount();}); initForm();});//});})(jQuery);function initForm(){discontChange();sFormChange();driverCount();isOwner();checkDiscountAllowed();}function databegin(){var period=$('#period').val();var databegin=$('#databegin').val();if(period&&databegin.length==10){if(period==1) addDate(databegin,1,1);else if(period==2) addDate(databegin,6,2);else if(period==3) addDate(databegin,10,3);}}function addDate(i_begin,i_add,i_operation){var Sday=i_begin.substring(0,2),Smonth=i_begin.substring(3,5),Syear=i_begin.substring(6,10),date=new Date(Syear,Smonth-1,Sday);if(i_operation==1) date.addYears(i_add);else if(i_operation==2) date.addMonths(i_add);else if(i_operation==3) date.addDays(i_add);var SSyear=date.getFullYear(),SSmonth=date.getMonth()+1,SSday=date.getDate();if(SSmonth<10){ SSmonth="0"+SSmonth;}if(SSday<10){ SSday="0"+SSday;} $('#dataend').val(SSday+"-"+SSmonth+"-"+SSyear);}function driverCount(){var driverCount=$('#driverCount').val();if(driverCount){$('.Driver').hide();if(driverCount>=0&&driverCount<=5){ for(i=1;i<=driverCount;i++){ $('.Driver'+i).show();} }else if(driverCount==6){ for(i=1;i<=driverCount;i++){ $('.Driver'+i).show();}}}}function discontChange(){var discount=$('input[name="discount"]:checked').val();if(discount){if(discount.length>0){$(".discount").hide();$(".discount"+discount).show();$('.discount0').show();}}}function sFormChange(){$(".sForm").hide();var sForm=$('#sForm').val();if(sForm){ $(".sForm"+sForm).show();}}function isOwner(){$(".Owner").hide();var owner=$('input[name="isOwner"]:checked').val();if(!owner){ $(".Owner").show();oFormChange();}}function oFormChange(){$(".oForm").hide();var oForm=$('#oForm').val();if(oForm){ $(".oForm"+oForm).show();}}function checkDiscountAllowed(){$(".DiscountAllowed").hide();var isOwn=$('input[name="isOwner"]:checked').val();if(isOwn){if(isOwn.length>0){if(isOwn==1){var sForm=$('#sForm').val();if(sForm){ if(sForm==1) $(".DiscountAllowed").show();}}}}else{var oForm=$('#oForm').val();if(oForm){ if(oForm==1) $(".DiscountAllowed").show();}}}